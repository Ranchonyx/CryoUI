{
  "version": 3,
  "sources": ["../node_modules/cryo-server/dist/lib/CryoWebsocketServer/CryoWebsocketServer.js", "../node_modules/cryo-server/dist/lib/Common/Util/CreateDebugLogger.js", "../node_modules/cryo-server/dist/lib/Common/Util/Guard.js", "../node_modules/cryo-server/dist/lib/CryoServerWebsocketSession/CryoServerWebsocketSession.js", "../node_modules/cryo-server/dist/lib/Common/CryoBinaryMessage/CryoFrameFormatter.js", "../node_modules/cryo-server/dist/lib/Common/CryoFrameInspector/CryoFrameInspector.js", "../node_modules/cryo-server/dist/lib/Common/AckTracker/AckTracker.js", "../node_modules/cryo-server/dist/lib/CryoExtension/CryoExtensionRegistry.js", "../node_modules/cryo-server/dist/lib/Common/BackpressureManager/BackpressureManager.js", "../node_modules/cryo-server/dist/lib/CryoServerWebsocketSession/CryoCryptoBox.js", "../node_modules/cryo-server/dist/lib/CryoServerWebsocketSession/CryoHandshakeEngine.js", "../node_modules/cryo-server/dist/lib/CryoServerWebsocketSession/CryoFrameRouter.js", "../node_modules/cryo-server/dist/lib/Common/Util/OverwriteUnset.js", "../node_modules/cryo-server/dist/lib/index.js", "../src/core/ComponentTree.ts", "../src/UI/Base/BaseComponent/BaseComponent.ts", "../src/UI/Base/BaseComponent/BaseComponent.module.css", "../src/UI/Components/AppComponent/AppComponent.module.css", "../src/UI/Components/AppComponent/AppComponent.ts", "../src/UI/Base/BaseLayout/BaseLayout.ts", "../src/UI/Layouts/TwoColumnsLayout/TwoColumnsLayout.module.css", "../src/UI/Layouts/TwoColumnsLayout/TwoColumnsLayout.ts", "../src/UI/Layouts/GridLayout/GridLayout.module.css", "../src/UI/Layouts/GridLayout/GridLayout.ts", "../src/UI/Components/FrameComponent/FrameComponent.ts", "../src/UI/Components/GridItemComponent/GridItemComponent.module.css", "../src/UI/Components/GridItemComponent/GridItemComponent.ts", "../src/UI/Components/ParagraphComponent/ParagraphComponent.module.css", "../src/UI/Components/ParagraphComponent/ParagraphComponent.ts", "../src/UI/Components/NavbarComponent/NavbarComponent.module.css", "../src/UI/Components/NavbarComponent/NavbarComponent.ts", "../src/UI/Components/HeaderComponent/HeaderComponent.module.css", "../src/UI/Components/HeaderComponent/HeaderComponent.ts", "../src/backend.ts", "../src/UI/Components/FormComponent/FormComponent.module.css", "../src/UI/Components/FormComponent/FormComponent.ts", "../src/UI/Components/InputComponent/InputComponent.module.css", "../src/UI/Components/InputComponent/InputComponent.ts"],
  "sourcesContent": ["import https from \"https\";\nimport http from \"node:http\";\nimport { WebSocketServer } from \"ws\";\nimport { clearInterval, setInterval } from \"node:timers\";\nimport { EventEmitter } from \"node:events\";\nimport { CreateDebugLogger } from \"../Common/Util/CreateDebugLogger.js\";\nimport Guard from \"../Common/Util/Guard.js\";\nimport { CryoServerWebsocketSession } from \"../CryoServerWebsocketSession/CryoServerWebsocketSession.js\";\nimport { CryoExtensionRegistry } from \"../CryoExtension/CryoExtensionRegistry.js\";\nimport { OverwriteUnset } from \"../Common/Util/OverwriteUnset.js\";\nexport class CryoWebsocketServer extends EventEmitter {\n    server;\n    tokenValidator;\n    backpressure_options;\n    use_cale;\n    ws_server;\n    WebsocketHeartbeatInterval;\n    sessions = [];\n    log;\n    static async Create(pTokenValidator, options) {\n        const keepAliveInterval = options?.keepAliveIntervalMs ?? 15000;\n        const sockPort = options?.port ?? 8080;\n        const use_cale = options?.use_cale ?? true;\n        const backpressure = options?.backpressure ?? {};\n        const server = options?.ssl && options.ssl.key && options.ssl.cert ? https.createServer(options.ssl) : http.createServer();\n        const bpres_opts_filled = OverwriteUnset(backpressure, {\n            dropPolicy: \"drop-oldest\",\n            highWaterMark: 16 * 1024 * 1024,\n            lowWaterMark: 1024 * 1024,\n            maxQueuedBytes: 8 * 1024 * 1024,\n            maxQueueCount: 1024\n        });\n        return new CryoWebsocketServer(server, pTokenValidator, keepAliveInterval, sockPort, bpres_opts_filled, use_cale);\n    }\n    constructor(server, tokenValidator, keepAliveInterval, socketPort, backpressure_options, use_cale = true) {\n        super();\n        this.server = server;\n        this.tokenValidator = tokenValidator;\n        this.backpressure_options = backpressure_options;\n        this.use_cale = use_cale;\n        this.log = CreateDebugLogger(\"CRYO_SERVER\");\n        this.ws_server = new WebSocketServer({ noServer: true });\n        this.WebsocketHeartbeatInterval = setInterval(this.Heartbeat.bind(this), keepAliveInterval)\n            .ref();\n        this.server.on(\"upgrade\", this.HTTPUpgradeCallback.bind(this));\n        this.server.listen(socketPort, () => {\n            this.log(`SSL support? ${this.server instanceof https.Server}`);\n            this.emit(\"listening\");\n        });\n    }\n    __denyAndDestroy(pSocket, message) {\n        const body = `<html lang=\"de-DE\"><body><h1>401 Unauthorized</h1><p>${message}</p></body></html>`;\n        const response = `HTTP/1.1 401 Unauthorized\\r\\n` +\n            `Content-Type: text/html; charset=utf-8\\r\\n` +\n            `Content-Length: ${Buffer.byteLength(body)}\\r\\n` +\n            `Connection: close\\r\\n` +\n            `\\r\\n` +\n            body;\n        pSocket.write(response, () => {\n            pSocket.end(() => {\n                this.log(message);\n            });\n        });\n    }\n    async HTTPUpgradeCallback(request, socket, head) {\n        const socketFmt = `${request.socket.remoteAddress}:${request.socket.remotePort}`;\n        this.log(`Upgrade request from ${socketFmt} ...`);\n        //Doesn't actually connect via ws or wss, just there as placeholder, so I can construct a URL...\n        const full_host_url = new URL(`ws://${process.env.HOST ?? 'localhost'}${request.url}`);\n        const authorization = full_host_url.searchParams.get(\"authorization\");\n        const x_cryo_sid = full_host_url.searchParams.get(\"x-cryo-sid\");\n        //Check auth header\n        if (!authorization) {\n            this.__denyAndDestroy(socket, `Upgrade request for ${socketFmt} was refused. No auth data supplied.`);\n            return;\n        }\n        if (!authorization.startsWith(\"Bearer\")) {\n            this.__denyAndDestroy(socket, `Upgrade request for ${socketFmt} was refused. No auth data supplied.`);\n            return;\n        }\n        //Check x-cryo-sid header\n        if (!x_cryo_sid) {\n            this.__denyAndDestroy(socket, `Upgrade request for ${socketFmt} was refused. No SID supplied.`);\n            return;\n        }\n        if (this.sessions.findIndex(s => s.id === x_cryo_sid) > -1) {\n            this.__denyAndDestroy(socket, `Upgrade request for ${socketFmt} was refused. The session already exists.`);\n            return;\n        }\n        //Extract client sid\n        const clientSessionId = `${x_cryo_sid}`;\n        //Trim \"Bearer\" from \"Bearer ...\"\n        const clientBearerToken = authorization.slice(7);\n        //Authenticate the extracted bearer token to the supplied \"tokenValidator\" function\n        const isTokenValid = await this.tokenValidator.validate(clientBearerToken);\n        if (!isTokenValid) {\n            this.__denyAndDestroy(socket, `Upgrade request for ${socketFmt} was refused. Invalid bearer token in authorization query.`);\n            return;\n        }\n        this.log(`Upgrade request from ${socketFmt} was accepted.`);\n        //Let the ws server handle the upgrade...\n        this.ws_server.handleUpgrade(request, socket, head, (client, request) => {\n            this.log(`Internal WS server completed upgrade for ${socketFmt}.`);\n            //Call our callback once it's done\n            this.WSUpgradeCallback(request, socket, client, clientSessionId, clientBearerToken);\n        });\n    }\n    async WSUpgradeCallback(request, socket, client, clientSid, clientBearerToken) {\n        //Assert that the socket has an \"isAlive\" property and if so, cast the \"Client\" as having this property\n        //Additionally, add a \"sessionId\" property containing a UUIDv4\n        Guard.CastAs(client);\n        const socketFmt = `${request.socket.remoteAddress}:${request.socket.remotePort}`;\n        client.isAlive = true;\n        client.sessionId = clientSid;\n        const session = new CryoServerWebsocketSession(client, socket, socketFmt, this.backpressure_options, this.use_cale);\n        session.Set(\"__TOKEN\", clientBearerToken);\n        this.sessions.push(session);\n        session.on(\"closed\", () => {\n            const s_idx = this.sessions.findIndex(s => s.id === session.id);\n            this.sessions.splice(s_idx, 1);\n        });\n        this.emit(\"session\", session);\n    }\n    /*\n    * Take care of pinging the clients, removing them if they are not responding anymore and doing per session stat & housekeeping\n    * */\n    async Heartbeat() {\n        for (const session of this.sessions) {\n            //Assert that the socket has an \"isAlive\" property and if so, cast the \"Client\" as having this property\n            if (!session.Client.isAlive) {\n                this.log(`Terminating dead client session ${session.Client.sessionId}`);\n                const sIdx = this.sessions.findIndex(s => s.Client.sessionId === session.Client.sessionId);\n                const retrievedSession = this.sessions.splice(sIdx, 1)[0];\n                retrievedSession.Destroy(4001, \"Disconnecting session due to not responding to ping frames.\");\n                continue;\n            }\n            //Also to housekeeping in the ACK tracker of each client\n            const session_tracker = session.get_ack_tracker();\n            session.emit(\"stat-ack-timeout\", session_tracker.Sweep());\n            session.emit(\"stat-rtt\", session_tracker.rtt);\n            session.emit(\"stat-bytes-tx\", session.tx);\n            session.emit(\"stat-bytes-rx\", session.rx);\n            session.Client.isAlive = false;\n            await session.Ping();\n        }\n    }\n    /**\n     * Teardown all sessions, all connections, timers and extensions\n     */\n    //noinspection JSUnusedGlobalSymbols\n    Destroy() {\n        CryoExtensionRegistry.Destroy();\n        this.server.removeAllListeners();\n        this.server.close();\n        this.WebsocketHeartbeatInterval.unref();\n        clearInterval(this.WebsocketHeartbeatInterval);\n        for (const session of this.sessions)\n            session.Destroy(4000, \"Server shutdown.\");\n        this.ws_server.removeAllListeners();\n        this.ws_server.close();\n    }\n    /**\n     * Register a server-side cryo extension\n     */\n    //noinspection JSUnusedGlobalSymbols\n    RegisterExtension(extension) {\n        CryoExtensionRegistry.register(extension);\n    }\n}\n", "export function CreateDebugLogger(section) {\n    if (!process.env.DEBUG?.includes(section))\n        return () => {\n        };\n    return (msg, ...params) => {\n        const err = new Error();\n        const stack = err.stack?.split(\"\\n\");\n        const caller_line = stack?.[2] ?? \"unknown\";\n        const method_cleaned = caller_line.trim().replace(/^at\\s+/, \"\");\n        const method = method_cleaned.substring(0, method_cleaned.indexOf(\"(\") - 1);\n        const position = method_cleaned.substring(method_cleaned.lastIndexOf(\":\") - 2, method_cleaned.length - 1);\n        console.info(`PID: ${process.pid.toString().padEnd(8, \" \")} ${section.padEnd(24, \" \")}${new Date().toISOString().padEnd(32, \" \")} ${method.padEnd(64, \" \")} ${position.padEnd(8, \" \")} ${msg}`, ...params);\n    };\n}\n", "class GuardError extends Error {\n    constructor(pMessage) {\n        super(pMessage);\n        Error.captureStackTrace ||= () => {\n        };\n        if (Error.captureStackTrace) {\n            Error.captureStackTrace(this, GuardError);\n        }\n        Object.setPrototypeOf(this, GuardError.prototype);\n    }\n}\n/*\n* Helferklasse mit statischen Funktionen zum \"undefined\" und \"null\"-checken, im Wesentlichen fancy asserts und casts.\n* */\nexport default class Guard {\n    //wenn \"param\" === null, throw with \"message\"\n    static AgainstNull(param, message) {\n        if (param === null)\n            throw new GuardError(message ? message : `Assertion failed, \"param\" (${param}) was null!`);\n    }\n    //Wenn \"param\" === \"undefined\", throw with \"message\"\n    static AgainstUndefined(param, message) {\n        if (param === undefined)\n            throw new GuardError(message ? message : `Assertion failed, \"param\" (${param}) was undefined!`);\n    }\n    //Wenn \"param\" === \"null\" or \"param\" === \"undefined\", throw with \"message\"\n    static AgainstNullish(param, message) {\n        Guard.AgainstUndefined(param, message);\n        Guard.AgainstNull(param, message);\n    }\n    //Typ von \"param\" als Typ \"T\" interpretieren\n    static CastAs(param) {\n        Guard.AgainstNullish(param);\n    }\n    //Typ von \"param\" als Typ \"T\" interpretieren und \"param\" und \"expr\" gegen \"null\" und \"undefined\" guarden\n    static CastAssert(param, expr, message) {\n        Guard.AgainstNullish(param, message);\n        Guard.AgainstNullish(expr, message);\n        if (!expr)\n            throw new GuardError(`Parameter assertion failed in CastAssert!`);\n    }\n}\n", "import { EventEmitter } from \"node:events\";\nimport CryoBinaryFrameFormatter from \"../Common/CryoBinaryMessage/CryoFrameFormatter.js\";\nimport CryoFrameFormatter, { BinaryMessageType } from \"../Common/CryoBinaryMessage/CryoFrameFormatter.js\";\nimport { CreateDebugLogger } from \"../Common/Util/CreateDebugLogger.js\";\nimport { AckTracker } from \"../Common/AckTracker/AckTracker.js\";\nimport { CryoExtensionRegistry } from \"../CryoExtension/CryoExtensionRegistry.js\";\nimport { BackpressureManager } from \"../Common/BackpressureManager/BackpressureManager.js\";\nimport { CryoCryptoBox } from \"./CryoCryptoBox.js\";\nimport { CryoHandshakeEngine, HandshakeState } from \"./CryoHandshakeEngine.js\";\nimport { CryoFrameRouter } from \"./CryoFrameRouter.js\";\nvar CloseCode;\n(function (CloseCode) {\n    CloseCode[CloseCode[\"CLOSE_GRACEFUL\"] = 4000] = \"CLOSE_GRACEFUL\";\n    CloseCode[CloseCode[\"CLOSE_CLIENT_ERROR\"] = 4001] = \"CLOSE_CLIENT_ERROR\";\n    CloseCode[CloseCode[\"CLOSE_SERVER_ERROR\"] = 4002] = \"CLOSE_SERVER_ERROR\";\n    CloseCode[CloseCode[\"CLOSE_CALE_MISMATCH\"] = 4010] = \"CLOSE_CALE_MISMATCH\";\n    CloseCode[CloseCode[\"CLOSE_CALE_HANDSHAKE\"] = 4011] = \"CLOSE_CALE_HANDSHAKE\";\n})(CloseCode || (CloseCode = {}));\nexport class CryoServerWebsocketSession extends EventEmitter {\n    remoteClient;\n    remoteSocket;\n    remoteName;\n    use_cale;\n    client_ack_tracker = new AckTracker();\n    bp_mgr = null;\n    current_ack = 0;\n    bytes_rx = 0;\n    bytes_tx = 0;\n    destroyed = false;\n    log;\n    ping_pong_formatter = CryoBinaryFrameFormatter.GetFormatter(\"ping_pong\");\n    ack_formatter = CryoBinaryFrameFormatter.GetFormatter(\"ack\");\n    error_formatter = CryoBinaryFrameFormatter.GetFormatter(\"error\");\n    utf8_formatter = CryoBinaryFrameFormatter.GetFormatter(\"utf8data\");\n    binary_formatter = CryoBinaryFrameFormatter.GetFormatter(\"binarydata\");\n    crypto = null;\n    handshake;\n    router;\n    storage = {};\n    constructor(remoteClient, remoteSocket, remoteName, backpressure_opts, use_cale) {\n        super();\n        this.remoteClient = remoteClient;\n        this.remoteSocket = remoteSocket;\n        this.remoteName = remoteName;\n        this.use_cale = use_cale;\n        this.log = CreateDebugLogger(`CRYO_SERVER_SESSION`);\n        this.bp_mgr = new BackpressureManager(remoteClient, backpressure_opts.highWaterMark, backpressure_opts.lowWaterMark, backpressure_opts.maxQueuedBytes, backpressure_opts.maxQueueCount, backpressure_opts.dropPolicy, CreateDebugLogger(`CRYO_BACKPRESSURE`));\n        const handshake_events = {\n            onSecure: ({ transmit_key, receive_key }) => {\n                this.crypto = new CryoCryptoBox(transmit_key, receive_key);\n                this.log(\"Handshake completed. Session is now secured.\");\n            },\n            onFailure: (reason) => {\n                this.log(`Handshake failure: ${reason}`);\n                this.Destroy(CloseCode.CLOSE_CALE_HANDSHAKE, \"Error during CALE handshake.\");\n            }\n        };\n        this.handshake = new CryoHandshakeEngine(this.Client.sessionId, (buffer) => this.Send(buffer, true), CryoFrameFormatter, () => this.inc_get_ack(), handshake_events);\n        this.router = new CryoFrameRouter(() => this.use_cale && this.handshake.is_secure, (buffer) => this.crypto.decrypt(buffer), {\n            on_ping_pong: async (b) => this.HandlePingPongMessage(b),\n            on_ack: async (b) => this.HandleAckMessage(b),\n            on_error: async (b) => this.HandleErrorMessage(b),\n            on_utf8: async (b) => this.HandleUTF8DataMessage(b),\n            on_binary: async (b) => this.HandleBinaryDataMessage(b),\n            on_client_hello: async (b) => {\n                if (use_cale)\n                    await this.handshake.on_client_hello(b);\n                else\n                    this.Destroy(CloseCode.CLOSE_CALE_MISMATCH, \"CALE Mismatch. The client excepts CALE encryption, which is currently disabled.\");\n            },\n            on_handshake_done: async (b) => this.handshake.on_client_handshake_done(b)\n        });\n        remoteSocket.once(\"end\", this.TCPSOCKET_HandleRemoteEnd.bind(this));\n        remoteSocket.once(\"error\", this.TCPSOCKET_HandleRemoteError.bind(this));\n        remoteClient.on(\"close\", this.WEBSOCKET_HandleRemoteClose.bind(this));\n        remoteClient.on(\"message\", (raw) => this.router.do_route(raw));\n        if (use_cale)\n            this.handshake.start_server_hello().then(() => null);\n        else\n            this.log(\"CALE disabled, running in unencrypted mode.\");\n    }\n    inc_get_ack() {\n        if (this.current_ack + 1 > (2 ** 32 - 1))\n            this.current_ack = 0;\n        return this.current_ack++;\n    }\n    /*\n    * Sends a PING frame to the client\n    * */\n    async Ping() {\n        const new_ack_id = this.inc_get_ack();\n        const encodedPingMessage = this.ping_pong_formatter\n            .Serialize(this.Client.sessionId, new_ack_id, \"ping\");\n        await this.Send(encodedPingMessage);\n    }\n    /*\n    * Send an UTF8 string to the client\n    * */\n    //noinspection JSUnusedGlobalSymbols\n    async SendUTF8(message) {\n        const new_ack_id = this.inc_get_ack();\n        const boxed_message = { value: message };\n        const result = await CryoExtensionRegistry\n            .get_executor(this)\n            .apply_before_send(boxed_message);\n        if (!result.should_emit)\n            return;\n        const encodedUtf8DataMessage = this.utf8_formatter\n            .Serialize(this.Client.sessionId, new_ack_id, boxed_message.value);\n        this.client_ack_tracker.Track(new_ack_id, {\n            message: encodedUtf8DataMessage,\n            timestamp: Date.now(),\n            payload: boxed_message.value\n        });\n        await this.Send(encodedUtf8DataMessage);\n    }\n    /*\n    * Send a binary message to the client\n    * */\n    //noinspection JSUnusedGlobalSymbols\n    async SendBinary(message) {\n        const new_ack_id = this.inc_get_ack();\n        const boxed_message = { value: message };\n        const result = await CryoExtensionRegistry\n            .get_executor(this)\n            .apply_before_send(boxed_message);\n        if (!result.should_emit)\n            return;\n        const encodedBinaryDataMessage = this.binary_formatter\n            .Serialize(this.Client.sessionId, new_ack_id, boxed_message.value);\n        this.client_ack_tracker.Track(new_ack_id, {\n            message: encodedBinaryDataMessage,\n            timestamp: Date.now(),\n            payload: boxed_message.value\n        });\n        await this.Send(encodedBinaryDataMessage);\n    }\n    /*\n    * Respond to PONG frames and set the client to be alive\n    * */\n    async HandlePingPongMessage(message) {\n        const decodedPingPongMessage = this.ping_pong_formatter\n            .Deserialize(message);\n        if (decodedPingPongMessage.payload !== \"pong\")\n            return;\n        this.Client.isAlive = true;\n    }\n    /*\n    * Handling of binary error messages from the client, currently just log it\n    * */\n    async HandleErrorMessage(message) {\n        const decodedErrorMessage = this.error_formatter\n            .Deserialize(message);\n        this.log(decodedErrorMessage.payload);\n    }\n    /*\n    * Handle ACK messages from the client\n    * */\n    async HandleAckMessage(message) {\n        const decodedAckMessage = this.ack_formatter\n            .Deserialize(message);\n        const ack_id = decodedAckMessage.ack;\n        const found_message = this.client_ack_tracker.Confirm(ack_id);\n        if (!found_message) {\n            this.log(`Received ACK ${ack_id} for unknown message!`);\n            return;\n        }\n        this.log(`Acknowledging client message ${ack_id} !`);\n    }\n    /*\n    * Handle DATA messages from the client\n    * */\n    async HandleUTF8DataMessage(message) {\n        const decodedDataMessage = this.utf8_formatter\n            .Deserialize(message);\n        const ack_id = decodedDataMessage.ack;\n        const encodedACKMessage = this.ack_formatter\n            .Serialize(this.Client.sessionId, ack_id);\n        await this.Send(encodedACKMessage);\n        const boxed_message = { value: decodedDataMessage.payload };\n        const result = await CryoExtensionRegistry\n            .get_executor(this)\n            .apply_after_receive(boxed_message);\n        if (result.should_emit)\n            this.emit(\"message-utf8\", boxed_message.value);\n    }\n    /*\n    * Handle DATA messages from the client\n    * */\n    async HandleBinaryDataMessage(message) {\n        const decodedDataMessage = this.binary_formatter\n            .Deserialize(message);\n        const ack_id = decodedDataMessage.ack;\n        const encodedACKMessage = this.ack_formatter\n            .Serialize(this.Client.sessionId, ack_id);\n        await this.Send(encodedACKMessage);\n        const boxed_message = { value: decodedDataMessage.payload };\n        const result = await CryoExtensionRegistry\n            .get_executor(this)\n            .apply_after_receive(boxed_message);\n        if (result.should_emit)\n            this.emit(\"message-binary\", boxed_message.value);\n    }\n    TranslateCloseCode(code) {\n        switch (code) {\n            case CloseCode.CLOSE_GRACEFUL:\n                return \"Connection closed normally.\";\n            case CloseCode.CLOSE_CLIENT_ERROR:\n                return \"Connection closed due to a client error.\";\n            case CloseCode.CLOSE_SERVER_ERROR:\n                return \"Connection closed due to a server error.\";\n            case CloseCode.CLOSE_CALE_MISMATCH:\n                return \"Connection closed due to a mismatch in client/server CALE configuration.\";\n            case CloseCode.CLOSE_CALE_HANDSHAKE:\n                return \"Connection closed due to an error in the CALE handshake.\";\n            default:\n                return \"Unspecified cause for connection closure.\";\n        }\n    }\n    WEBSOCKET_HandleRemoteClose(code, reason) {\n        const code_string = this.TranslateCloseCode(code);\n        this.log(`Client ${this.remoteName} has disconnected. Code=${code_string}, reason=${reason.toString(\"utf8\")}`);\n        this.Destroy(CloseCode.CLOSE_GRACEFUL, \"Connection closed gracefully.\");\n    }\n    /*\n    * Log hangup and destroy session\n    * */\n    TCPSOCKET_HandleRemoteEnd() {\n        this.log(`TCP Peer '${this.remoteName}' connection closed cleanly by client session.`);\n        this.Destroy(CloseCode.CLOSE_GRACEFUL, \"Connection closed gracefully.\");\n    }\n    /*\n    * Log error and destroy session\n    * */\n    TCPSOCKET_HandleRemoteError(err) {\n        this.log(`TCP Peer '${this.remoteName}' threw an error '${err.message}' (${err?.code})`);\n        this.Destroy(CloseCode.CLOSE_CLIENT_ERROR, \"Connection closed erroneously.\");\n    }\n    /*\n    * Send a buffer to the client\n    * */\n    async Send(encodedMessage, plain = false) {\n        const type = CryoBinaryFrameFormatter.GetType(encodedMessage);\n        const prio = (type === BinaryMessageType.ACK || type === BinaryMessageType.PING_PONG || type === BinaryMessageType.ERROR) ? \"control\" : \"data\";\n        let outgoing = encodedMessage;\n        if (this.use_cale && this.secure && !plain)\n            outgoing = this.crypto.encrypt(encodedMessage);\n        /*\n                const is_secure = this.handshake.state === HandshakeState.SECURE;\n                const outgoing = is_secure && !plain ? this.crypto!.encrypt(encodedMessage) : encodedMessage;\n        */\n        const ok = this.bp_mgr.enqueue(outgoing, prio);\n        if (!ok) {\n            this.log(`Frame ${CryoBinaryFrameFormatter.GetAck(encodedMessage)} was dropped by policy.`);\n            return;\n        }\n        this.bytes_tx += outgoing.byteLength;\n    }\n    get Client() {\n        return this.remoteClient;\n    }\n    get_ack_tracker() {\n        return this.client_ack_tracker;\n    }\n    get rx() {\n        return this.bytes_rx;\n    }\n    get tx() {\n        return this.bytes_tx;\n    }\n    get id() {\n        return this.Client.sessionId;\n    }\n    get secure() {\n        return this.use_cale && this.handshake?.state === HandshakeState.SECURE && this.crypto !== null;\n    }\n    Destroy(code = 4000, message = \"Closing session.\") {\n        this.bp_mgr?.Destroy();\n        this.client_ack_tracker.Destroy();\n        try {\n            this.log(`Teardown of session. Code=${code}, reason=${message}`);\n            this.Client.close(code, message);\n        }\n        catch {\n            //Ignore\n        }\n        if (!this.destroyed)\n            this.emit(\"closed\");\n        this.destroyed = true;\n    }\n    Set(key, value) {\n        this.storage[key] = value;\n    }\n    Get(key) {\n        return this.storage[key];\n    }\n}\n", "import Guard from \"../Util/Guard.js\";\nexport var BinaryMessageType;\n(function (BinaryMessageType) {\n    BinaryMessageType[BinaryMessageType[\"ACK\"] = 0] = \"ACK\";\n    BinaryMessageType[BinaryMessageType[\"ERROR\"] = 1] = \"ERROR\";\n    BinaryMessageType[BinaryMessageType[\"PING_PONG\"] = 2] = \"PING_PONG\";\n    BinaryMessageType[BinaryMessageType[\"UTF8DATA\"] = 3] = \"UTF8DATA\";\n    BinaryMessageType[BinaryMessageType[\"BINARYDATA\"] = 4] = \"BINARYDATA\";\n    BinaryMessageType[BinaryMessageType[\"SERVER_HELLO\"] = 5] = \"SERVER_HELLO\";\n    BinaryMessageType[BinaryMessageType[\"CLIENT_HELLO\"] = 6] = \"CLIENT_HELLO\";\n    BinaryMessageType[BinaryMessageType[\"HANDSHAKE_DONE\"] = 7] = \"HANDSHAKE_DONE\";\n})(BinaryMessageType || (BinaryMessageType = {}));\nclass BufferUtil {\n    static sidFromBuffer(buffer) {\n        const uuidv4_p1 = buffer.subarray(0, 4).toString(\"hex\");\n        const uuidv4_p2 = buffer.subarray(4, 6).toString(\"hex\");\n        const uuidv4_p3 = buffer.subarray(6, 8).toString(\"hex\");\n        const uuidv4_p4 = buffer.subarray(8, 10).toString(\"hex\");\n        const uuidv4_p5 = buffer.subarray(10, 16).toString(\"hex\");\n        return [uuidv4_p1, uuidv4_p2, uuidv4_p3, uuidv4_p4, uuidv4_p5].join(\"-\");\n    }\n    static sidToBuffer(sid) {\n        return Buffer.from(sid.replaceAll(\"-\", \"\"), 'hex');\n    }\n}\nclass AckFrameFormatter {\n    Deserialize(value) {\n        const sid = BufferUtil.sidFromBuffer(value);\n        const ack = value.readUInt32BE(16);\n        const type = value.readUint8(20);\n        if (type !== BinaryMessageType.ACK)\n            throw new Error(\"Attempt to deserialize a non-ack binary message!\");\n        return {\n            sid,\n            ack,\n            type\n        };\n    }\n    // noinspection JSUnusedLocalSymbols\n    Serialize(sid, ack, payload = null) {\n        const msg_buf = Buffer.alloc(16 + 4 + 1);\n        const sid_buf = BufferUtil.sidToBuffer(sid);\n        sid_buf.copy(msg_buf, 0);\n        msg_buf.writeUInt32BE(ack, 16);\n        msg_buf.writeUint8(BinaryMessageType.ACK, 20);\n        return msg_buf;\n    }\n}\nclass PingPongFrameFormatter {\n    Deserialize(value) {\n        const sid = BufferUtil.sidFromBuffer(value);\n        const ack = value.readUInt32BE(16);\n        const type = value.readUint8(20);\n        const payload = value.subarray(21).toString(\"utf8\");\n        if (type !== BinaryMessageType.PING_PONG)\n            throw new Error(\"Attempt to deserialize a non-ping_pong binary message!\");\n        if (!(payload === \"ping\" || payload === \"pong\"))\n            throw new Error(`Invalid payload ${payload} in ping_pong binary message!`);\n        return {\n            sid,\n            ack,\n            type,\n            payload\n        };\n    }\n    Serialize(sid, ack, payload) {\n        const msg_buf = Buffer.alloc(16 + 4 + 1 + 4);\n        const sid_buf = BufferUtil.sidToBuffer(sid);\n        sid_buf.copy(msg_buf, 0);\n        msg_buf.writeUInt32BE(ack, 16);\n        msg_buf.writeUint8(BinaryMessageType.PING_PONG, 20);\n        msg_buf.write(payload, 21);\n        return msg_buf;\n    }\n}\nclass UTF8FrameFormatter {\n    Deserialize(value) {\n        const sid = BufferUtil.sidFromBuffer(value);\n        const ack = value.readUInt32BE(16);\n        const type = value.readUint8(20);\n        const payload = value.subarray(21).toString(\"utf8\");\n        if (type !== BinaryMessageType.UTF8DATA)\n            throw new Error(\"Attempt to deserialize a non-data utf8 message!\");\n        return {\n            sid,\n            ack,\n            type,\n            payload\n        };\n    }\n    Serialize(sid, ack, payload) {\n        const msg_buf = Buffer.alloc(16 + 4 + 1 + (payload?.length || 4));\n        const sid_buf = BufferUtil.sidToBuffer(sid);\n        sid_buf.copy(msg_buf, 0);\n        msg_buf.writeUInt32BE(ack, 16);\n        msg_buf.writeUint8(BinaryMessageType.UTF8DATA, 20);\n        msg_buf.write(payload || \"null\", 21);\n        return msg_buf;\n    }\n}\nclass BinaryFrameFormatter {\n    Deserialize(value) {\n        const sid = BufferUtil.sidFromBuffer(value);\n        const ack = value.readUInt32BE(16);\n        const type = value.readUint8(20);\n        const payload = value.subarray(21);\n        if (type !== BinaryMessageType.BINARYDATA)\n            throw new Error(\"Attempt to deserialize a non-data binary message!\");\n        return {\n            sid,\n            ack,\n            type,\n            payload\n        };\n    }\n    Serialize(sid, ack, payload) {\n        const payload_length = payload ? payload.byteLength : 4;\n        const msg_buf = Buffer.alloc(16 + 4 + 1 + payload_length);\n        const sid_buf = BufferUtil.sidToBuffer(sid);\n        sid_buf.copy(msg_buf, 0);\n        msg_buf.writeUInt32BE(ack, 16);\n        msg_buf.writeUint8(BinaryMessageType.BINARYDATA, 20);\n        msg_buf.set(payload || Buffer.from(\"null\", \"utf-8\"), 21);\n        return msg_buf;\n    }\n}\nclass ErrorFrameFormatter {\n    Deserialize(value) {\n        const sid = BufferUtil.sidFromBuffer(value);\n        const ack = value.readUInt32BE(16);\n        const type = value.readUint8(20);\n        const payload = value.subarray(21).toString(\"utf8\");\n        if (type !== BinaryMessageType.ERROR)\n            throw new Error(\"Attempt to deserialize a non-error message!\");\n        return {\n            sid,\n            ack,\n            type,\n            payload\n        };\n    }\n    Serialize(sid, ack, payload) {\n        const msg_buf = Buffer.alloc(16 + 4 + 1 + (payload?.length || 13));\n        const sid_buf = BufferUtil.sidToBuffer(sid);\n        sid_buf.copy(msg_buf, 0);\n        msg_buf.writeUInt32BE(ack, 16);\n        msg_buf.writeUint8(BinaryMessageType.ERROR, 20);\n        msg_buf.write(payload || \"unknown_error\", 21);\n        return msg_buf;\n    }\n}\nclass ServerHelloFrameFormatter {\n    Deserialize(value) {\n        const sid = BufferUtil.sidFromBuffer(value);\n        const ack = value.readUInt32BE(16);\n        const type = value.readUint8(20);\n        const payload = value.subarray(21);\n        if (type !== BinaryMessageType.SERVER_HELLO)\n            throw new Error(\"Attempt to deserialize a non-server_hello message!\");\n        return {\n            sid,\n            ack,\n            type,\n            payload\n        };\n    }\n    Serialize(sid, ack, payload) {\n        Guard.CastAssert(payload, payload !== null, \"payload was null!\");\n        if (payload.byteLength !== 65)\n            throw new Error(\"Payload in ServerHelloMessage must be exactly 65 bytes!\");\n        const msg_buf = Buffer.alloc(16 + 4 + 1 + 65);\n        const sid_buf = BufferUtil.sidToBuffer(sid);\n        sid_buf.copy(msg_buf, 0);\n        msg_buf.writeUInt32BE(ack, 16);\n        msg_buf.writeUint8(BinaryMessageType.SERVER_HELLO, 20);\n        msg_buf.set(payload, 21);\n        return msg_buf;\n    }\n}\nclass ClientHelloFrameFormatter {\n    Deserialize(value) {\n        const sid = BufferUtil.sidFromBuffer(value);\n        const ack = value.readUInt32BE(16);\n        const type = value.readUint8(20);\n        const payload = value.subarray(21);\n        if (type !== BinaryMessageType.CLIENT_HELLO)\n            throw new Error(\"Attempt to deserialize a non-client_hello message!\");\n        return {\n            sid,\n            ack,\n            type,\n            payload\n        };\n    }\n    Serialize(sid, ack, payload) {\n        Guard.CastAssert(payload, payload !== null, \"payload was null!\");\n        if (payload.byteLength !== 65)\n            throw new Error(\"Payload in ClientHelloMessage must be exactly 65 bytes!\");\n        const msg_buf = Buffer.alloc(16 + 4 + 1 + 65);\n        const sid_buf = BufferUtil.sidToBuffer(sid);\n        sid_buf.copy(msg_buf, 0);\n        msg_buf.writeUInt32BE(ack, 16);\n        msg_buf.writeUint8(BinaryMessageType.CLIENT_HELLO, 20);\n        msg_buf.set(payload, 21);\n        return msg_buf;\n    }\n}\nclass HandshakeDoneFrameFormatter {\n    Deserialize(value) {\n        const sid = BufferUtil.sidFromBuffer(value);\n        const ack = value.readUInt32BE(16);\n        const type = value.readUint8(20);\n        const payload = value.subarray(21).toString(\"utf8\");\n        if (type !== BinaryMessageType.HANDSHAKE_DONE)\n            throw new Error(\"Attempt to deserialize a non-handshake_done message!\");\n        return {\n            sid,\n            ack,\n            type,\n            payload\n        };\n    }\n    Serialize(sid, ack, payload) {\n        const msg_buf = Buffer.alloc(16 + 4 + 1 + (payload?.length || 4));\n        const sid_buf = BufferUtil.sidToBuffer(sid);\n        sid_buf.copy(msg_buf, 0);\n        msg_buf.writeUInt32BE(ack, 16);\n        msg_buf.writeUint8(BinaryMessageType.HANDSHAKE_DONE, 20);\n        msg_buf.write(payload || \"null\", 21);\n        return msg_buf;\n    }\n}\n//noinspection JSUnusedGlobalSymbols\nexport default class CryoFrameFormatter {\n    static GetFormatter(type) {\n        switch (type) {\n            case \"utf8data\":\n            case BinaryMessageType.UTF8DATA:\n                return new UTF8FrameFormatter();\n            case \"error\":\n            case BinaryMessageType.ERROR:\n                return new ErrorFrameFormatter();\n            case \"ack\":\n            case BinaryMessageType.ACK:\n                return new AckFrameFormatter();\n            case \"ping_pong\":\n            case BinaryMessageType.PING_PONG:\n                return new PingPongFrameFormatter();\n            case \"binarydata\":\n            case BinaryMessageType.BINARYDATA:\n                return new BinaryFrameFormatter();\n            case BinaryMessageType.SERVER_HELLO:\n            case \"server_hello\":\n                return new ServerHelloFrameFormatter();\n            case BinaryMessageType.CLIENT_HELLO:\n            case \"client_hello\":\n                return new ClientHelloFrameFormatter();\n            case BinaryMessageType.HANDSHAKE_DONE:\n            case \"handshake_done\":\n                return new HandshakeDoneFrameFormatter();\n            default:\n                throw new Error(`Binary message format for type '${type}' is not supported!`);\n        }\n    }\n    static GetType(message) {\n        const type = message.readUint8(20);\n        if (type > BinaryMessageType.HANDSHAKE_DONE)\n            throw new Error(`Unable to decode type from message ${message}. MAX_TYPE = 5, got ${type} !`);\n        return type;\n    }\n    static GetAck(message) {\n        return message.readUint32BE(16);\n    }\n    static GetSid(message) {\n        return BufferUtil.sidFromBuffer(message);\n    }\n    static GetPayload(message, encoding = \"utf8\") {\n        return message.subarray(21).toString(encoding);\n    }\n}\n", "import CryoBinaryFrameFormatter from \"../CryoBinaryMessage/CryoFrameFormatter.js\";\nconst typeToStringMap = {\n    0: \"ack\",\n    1: \"error\",\n    2: \"ping/pong\",\n    3: \"utf8data\",\n    4: \"binarydata\",\n    5: \"server_hello\",\n    6: \"client_hello\",\n    7: \"handshake_done\",\n};\nexport class CryoFrameInspector {\n    static Inspect(message, encoding = \"utf8\") {\n        const sid = CryoBinaryFrameFormatter.GetSid(message);\n        const ack = CryoBinaryFrameFormatter.GetAck(message);\n        const type = CryoBinaryFrameFormatter.GetType(message);\n        const type_str = typeToStringMap[type] || \"unknown\";\n        const payload = CryoBinaryFrameFormatter.GetPayload(message, encoding);\n        return `[${sid},${ack},${type_str},[${payload}]]`;\n    }\n}\n", "import { CreateDebugLogger } from \"../Util/CreateDebugLogger.js\";\nimport { CryoFrameInspector } from \"../CryoFrameInspector/CryoFrameInspector.js\";\nexport class AckTracker {\n    MAX_STATE_DURATION_MS;\n    log;\n    pending = new Map();\n    ewma_rtt = null;\n    alpha = 0.2;\n    constructor(MAX_STATE_DURATION_MS = 2500, log = CreateDebugLogger(\"CRYO_SERVER_ACK\")) {\n        this.MAX_STATE_DURATION_MS = MAX_STATE_DURATION_MS;\n        this.log = log;\n    }\n    Track(ack, message) {\n        this.pending.set(ack, message);\n    }\n    Confirm(ack) {\n        const maybe_ack = this.pending.get(ack);\n        if (!maybe_ack)\n            return null;\n        //Compute exponentially weighted moving average rtt, like in TCP\n        const rtt = Date.now() - maybe_ack.timestamp;\n        if (!this.ewma_rtt)\n            this.ewma_rtt = rtt;\n        else\n            this.ewma_rtt = (1 - this.alpha) * this.ewma_rtt + this.alpha * rtt;\n        this.log(`ACK ${ack} confirmed in ${Date.now() - maybe_ack.timestamp} ms`);\n        this.pending.delete(ack);\n        return maybe_ack;\n    }\n    /*\n        public Has(ack: number): boolean {\n            return this.pending.has(ack);\n        }\n    */\n    Sweep() {\n        const now = Date.now();\n        this.log(\"Doing housekeeping...\");\n        let purged = 0;\n        for (const [ack, pending] of this.pending.entries()) {\n            if ((now - pending.timestamp) >= this.MAX_STATE_DURATION_MS) {\n                //Purge that mfer\n                this.pending.delete(ack);\n                this.log(`Purged message ${CryoFrameInspector.Inspect(pending.message)} (ACK ${ack}) due to being stale for longer than ${this.MAX_STATE_DURATION_MS} milliseconds!`);\n                purged++;\n            }\n        }\n        return purged;\n    }\n    get rtt() {\n        return this.ewma_rtt || -1;\n    }\n    Destroy() {\n        this.pending.clear();\n    }\n}\n", "import { CreateDebugLogger } from \"../Common/Util/CreateDebugLogger.js\";\nconst log = CreateDebugLogger(\"CRYO_EXTENSION\");\nclass CryoExtensionExecutor {\n    session;\n    constructor(session) {\n        this.session = session;\n    }\n    async execute_if_present(extension, handler_name, message) {\n        if (!extension[handler_name])\n            return { should_emit: true };\n        log(`${extension.name}::${handler_name} is present. Executing with: `, message.value);\n        return new Promise((resolve) => {\n            ///@ts-expect-error\n            extension[handler_name](this.session, message).then(should_emit => {\n                return { should_emit };\n            }).catch(ex => {\n                log(`Call to '${handler_name}' of extension '${extension.name}' threw an error`, ex);\n                resolve({ should_emit: true, error: ex });\n            });\n        });\n    }\n    async apply_before_send(message) {\n        let before_send_result = { should_emit: true };\n        log(`Running before_send handler, message: `, message);\n        for (const extension of CryoExtensionRegistry.extensions) {\n            if (typeof message.value === \"string\") {\n                before_send_result = await this.execute_if_present(extension, \"before_send_utf8\", message);\n            }\n            else {\n                before_send_result = await this.execute_if_present(extension, \"before_send_binary\", message);\n            }\n        }\n        log(\"after before_send handler, before_send_result:\", before_send_result);\n        return before_send_result;\n    }\n    async apply_after_receive(message) {\n        let after_receive_result = { should_emit: true };\n        log(`Running after_receive handler, message: `, message);\n        for (const extension of CryoExtensionRegistry.extensions) {\n            if (typeof message.value === \"string\") {\n                after_receive_result = await this.execute_if_present(extension, \"on_receive_utf8\", message);\n            }\n            else {\n                after_receive_result = await this.execute_if_present(extension, \"on_receive_binary\", message);\n            }\n        }\n        log(\"after after_receive handler, after_receive_result:\", after_receive_result);\n        return after_receive_result;\n    }\n}\n//noinspection JSUnusedGlobalSymbols\nexport class CryoExtensionRegistry {\n    static extensions = [];\n    static get_executor(session) {\n        return new CryoExtensionExecutor(session);\n    }\n    static register(extension) {\n        const maybe_index = this.extensions.findIndex(existing_extension => existing_extension.name === extension.name);\n        if (maybe_index >= 0)\n            throw new Error(`Extension '${extension.name}' is already registered!`);\n        this.extensions.push(extension);\n    }\n    static unregister(extension) {\n        const extension_name = typeof extension === \"string\" ? extension : extension.name;\n        const maybe_index = this.extensions.findIndex(extension => extension.name === extension_name);\n        if (maybe_index < 0)\n            return;\n        log(`Unregisted extension '${this.extensions[maybe_index].name}'`);\n        this.extensions.splice(maybe_index, 1);\n    }\n    static Destroy() {\n        for (const extension of CryoExtensionRegistry.extensions) {\n            this.unregister(extension);\n        }\n    }\n}\n", "import { clearInterval } from \"node:timers\";\nimport Guard from \"../Util/Guard.js\";\nexport class BackpressureManager {\n    ws;\n    WM_HI;\n    WM_LO;\n    MAX_Q_BYTES;\n    MAX_Q_COUNT;\n    drop;\n    log;\n    on_drop;\n    queue = [];\n    queued_bytes = 0;\n    tick = null;\n    stat_log_tick = setInterval(() => this.log_stats(), 5000);\n    constructor(ws, WM_HI, WM_LO, MAX_Q_BYTES, MAX_Q_COUNT, drop, log, on_drop) {\n        this.ws = ws;\n        this.WM_HI = WM_HI;\n        this.WM_LO = WM_LO;\n        this.MAX_Q_BYTES = MAX_Q_BYTES;\n        this.MAX_Q_COUNT = MAX_Q_COUNT;\n        this.drop = drop;\n        this.log = log;\n        this.on_drop = on_drop;\n        Guard.CastAs(this.ws);\n        if (this.ws?._socket) {\n            // noinspection PointlessBooleanExpressionJS\n            Guard.CastAssert(this.ws._socket, this.ws?._socket !== undefined, \"ws._socket was undefined!\");\n            this.ws?._socket?.on?.(\"drain\", () => this.try_flush());\n        }\n        this.tick = setInterval(() => this.try_flush(), 50);\n    }\n    log_stats() {\n        this.log(`Max queue elements: ${this.MAX_Q_COUNT}, Max queued bytes: ${this.MAX_Q_BYTES}, Drop policy: '${this.drop}'`);\n        this.log(`Queue length: ${this.queue.length}, Queued bytes: ${this.queued_bytes}, Current buffered bytes: ${this.ws.bufferedAmount}`);\n    }\n    can_send() {\n        Guard.CastAs(this.ws);\n        return this.ws.readyState === this.ws.OPEN &&\n            this.ws.bufferedAmount < this.WM_HI &&\n            this.ws._socket.writable;\n    }\n    enqueue(buffer, priority = \"control\", /*callback: (err?: Error) => void,*/ key) {\n        //If we got ctrl traffic, try to bypass queue entirely, so long as we can send it now...\n        if (priority === \"control\" && this.can_send()) {\n            this.ws.send(buffer, { binary: true });\n            return true;\n        }\n        if (this.drop === \"dedupe-latest\" && key) {\n            for (let i = this.queue.length - 1; i >= 0; i--) {\n                const item = this.queue[i];\n                if (item.key === key) {\n                    this.queued_bytes -= item.buffer.byteLength;\n                    this.queue.splice(i, 1);\n                    break;\n                }\n            }\n        }\n        const enqueueWouldExceedMaxQueues = this.queue.length + 1 > this.MAX_Q_COUNT;\n        const wouldExceedQueuedBytes = this.queued_bytes + buffer.byteLength > this.MAX_Q_BYTES;\n        if (wouldExceedQueuedBytes || enqueueWouldExceedMaxQueues) {\n            if (this.drop === \"drop-newest\")\n                return false;\n            if (this.drop === \"drop-oldest\") {\n                if (this.queue.length > 0) {\n                    const evicted_item = this.queue.shift();\n                    Guard.CastAssert(evicted_item, evicted_item !== undefined, \"evicted_item was undefined!\");\n                    this.queued_bytes -= evicted_item.buffer.byteLength;\n                    this.on_drop?.(evicted_item);\n                }\n                else {\n                    return false;\n                }\n            }\n        }\n        //Yeet the item if we are still exceeding the limit\n        if (this.drop === \"dedupe-latest\") {\n            const areWeStillExceeding = (this.queue.length + 1 > this.MAX_Q_COUNT) || (this.queued_bytes + buffer.byteLength > this.MAX_Q_BYTES);\n            if (areWeStillExceeding)\n                return false;\n        }\n        this.queue.push({ buffer, priority, key, ts: Date.now() });\n        this.queued_bytes += buffer.byteLength;\n        this.log_stats();\n        //Try sending the queue right now\n        this.try_flush();\n        return true;\n    }\n    try_flush() {\n        if (!this.can_send())\n            return;\n        //Give control frames priority when being sent\n        if (this.queue.length > 1)\n            this.queue.sort((iA, iB) => (iA.priority === iB.priority) ? 0 : (iA.priority === \"control\" ? -1 : 1));\n        while (this.queue.length > 0 && this.ws.bufferedAmount < this.WM_HI) {\n            const item = this.queue.shift();\n            Guard.CastAssert(item, item !== undefined, \"evicted_item was undefined!\");\n            this.queued_bytes -= item.buffer.byteLength;\n            this.ws.send(item.buffer, { binary: true });\n            //Pause sending data and wait for 'drain' event on the socket\n            if (this.ws.bufferedAmount >= this.WM_HI)\n                break;\n        }\n    }\n    Destroy() {\n        if (this.tick)\n            clearInterval(this.tick);\n        if (this.stat_log_tick)\n            clearInterval(this.stat_log_tick);\n        this.stat_log_tick = null;\n        this.tick = null;\n        this.queue.length = 0;\n        this.queued_bytes = 0;\n    }\n}\n", "import { createCipheriv, createDecipheriv } from \"node:crypto\";\nexport class CryoCryptoBox {\n    encrypt_key;\n    decryption_key;\n    nonce = 0;\n    constructor(encrypt_key, decryption_key) {\n        this.encrypt_key = encrypt_key;\n        this.decryption_key = decryption_key;\n    }\n    create_iv() {\n        const iv = Buffer.alloc(12);\n        iv.writeUInt32BE(this.nonce++, 8);\n        return iv;\n    }\n    encrypt(plain) {\n        const iv = this.create_iv();\n        const cipher = createCipheriv(\"aes-128-gcm\", this.encrypt_key, iv);\n        const encrypted = Buffer.concat([cipher.update(plain), cipher.final()]);\n        const tag = cipher.getAuthTag();\n        return Buffer.concat([iv, encrypted, tag]);\n    }\n    decrypt(cipher) {\n        const iv = cipher.subarray(0, 12);\n        const tag = cipher.subarray(cipher.byteLength - 16);\n        const data = cipher.subarray(12, cipher.byteLength - 16);\n        const decipher = createDecipheriv(\"aes-128-gcm\", this.decryption_key, iv);\n        decipher.setAuthTag(tag);\n        return Buffer.concat([decipher.update(data), decipher.final()]);\n    }\n}\n", "import { createECDH, createHash } from \"node:crypto\";\nimport CryoFrameFormatter from \"../Common/CryoBinaryMessage/CryoFrameFormatter.js\";\nexport var HandshakeState;\n(function (HandshakeState) {\n    HandshakeState[HandshakeState[\"INITIAL\"] = 0] = \"INITIAL\";\n    HandshakeState[HandshakeState[\"WAIT_CLIENT_HELLO\"] = 1] = \"WAIT_CLIENT_HELLO\";\n    HandshakeState[HandshakeState[\"WAIT_CLIENT_DONE\"] = 2] = \"WAIT_CLIENT_DONE\";\n    HandshakeState[HandshakeState[\"SECURE\"] = 3] = \"SECURE\";\n})(HandshakeState || (HandshakeState = {}));\nexport class CryoHandshakeEngine {\n    sid;\n    send_plain;\n    formatter;\n    next_ack;\n    events;\n    ECDH_CURVE_NAME = \"prime256v1\";\n    handshake_state = HandshakeState.INITIAL;\n    ecdh = createECDH(this.ECDH_CURVE_NAME);\n    transmit_key = null;\n    receive_key = null;\n    constructor(sid, send_plain, formatter, next_ack, events) {\n        this.sid = sid;\n        this.send_plain = send_plain;\n        this.formatter = formatter;\n        this.next_ack = next_ack;\n        this.events = events;\n        this.ecdh.generateKeys();\n    }\n    async start_server_hello() {\n        if (this.handshake_state !== HandshakeState.INITIAL)\n            return;\n        const my_pub_key = this.ecdh.getPublicKey(null, \"uncompressed\");\n        const ack = this.next_ack();\n        const hello_frame = this.formatter\n            .GetFormatter(\"server_hello\")\n            .Serialize(this.sid, ack, my_pub_key);\n        /*\n                console.warn(`Sending SERVER_HELLO, type=${hello_frame.readUint8(20)}, buf=${hello_frame.toString(\"hex\")}`)\n        */\n        await this.send_plain(hello_frame);\n        this.handshake_state = HandshakeState.WAIT_CLIENT_HELLO;\n    }\n    async on_client_hello(frame) {\n        if (this.handshake_state !== HandshakeState.WAIT_CLIENT_HELLO) {\n            this.events.onFailure(`CLIENT_HELLO received while in state ${this.state}`);\n            return;\n        }\n        const decoded = CryoFrameFormatter\n            .GetFormatter(\"client_hello\")\n            .Deserialize(frame);\n        const client_pub_key = decoded.payload;\n        //Derive the keys\n        const secret = this.ecdh.computeSecret(client_pub_key);\n        const hash = createHash(\"sha256\").update(secret).digest();\n        this.transmit_key = hash.subarray(0, 16);\n        this.receive_key = hash.subarray(16, 32);\n        //Tell the session that we got the keys, but we don't wanna encrypt just yet\n        this.handshake_state = HandshakeState.WAIT_CLIENT_DONE;\n        //Send HANDSHAKE_DONE\n        const done = CryoFrameFormatter\n            .GetFormatter(\"handshake_done\")\n            .Serialize(this.sid, decoded.ack, null);\n        await this.send_plain(done);\n    }\n    on_client_handshake_done(_frame) {\n        if (this.handshake_state !== HandshakeState.WAIT_CLIENT_DONE) {\n            this.events.onFailure(`HANDSHAKE_DONE received while in state ${this.state}`);\n            return;\n        }\n        this.events.onSecure({ receive_key: this.receive_key, transmit_key: this.transmit_key });\n        //Client got our SERVER_HELLO and finished on its side\n        this.handshake_state = HandshakeState.SECURE;\n    }\n    get is_secure() {\n        return this.handshake_state === HandshakeState.SECURE;\n    }\n    get state() {\n        return this.handshake_state;\n    }\n}\n", "import { BinaryMessageType } from \"../Common/CryoBinaryMessage/CryoFrameFormatter.js\";\nimport { CreateDebugLogger } from \"../Common/Util/CreateDebugLogger.js\";\nexport class CryoFrameRouter {\n    is_secure;\n    decrypt;\n    handlers;\n    log;\n    constructor(is_secure, decrypt, handlers, log = CreateDebugLogger(\"CRYO_FRAME_ROUTER\")) {\n        this.is_secure = is_secure;\n        this.decrypt = decrypt;\n        this.handlers = handlers;\n        this.log = log;\n    }\n    try_get_type(buf) {\n        if (!buf || buf.length < 21)\n            return null;\n        const type_byte = buf.readUint8(20);\n        return type_byte <= BinaryMessageType.HANDSHAKE_DONE ? type_byte : null;\n    }\n    async do_route(raw) {\n        let frame = raw;\n        let type;\n        type = this.try_get_type(raw);\n        if (type === null && this.is_secure()) {\n            try {\n                frame = this.decrypt(raw);\n                type = this.try_get_type(frame);\n            }\n            catch (e) {\n                this.log(`Decryption failed: ${e}`, raw);\n                return;\n            }\n        }\n        if (type === null) {\n            this.log(`Unknown frame type`, raw);\n            return;\n        }\n        switch (type) {\n            case BinaryMessageType.PING_PONG:\n                await this.handlers.on_ping_pong(frame);\n                return;\n            case BinaryMessageType.ERROR:\n                await this.handlers.on_error(frame);\n                return;\n            case BinaryMessageType.ACK:\n                await this.handlers.on_ack(frame);\n                return;\n            case BinaryMessageType.UTF8DATA:\n                await this.handlers.on_utf8(frame);\n                return;\n            case BinaryMessageType.BINARYDATA:\n                await this.handlers.on_binary(frame);\n                return;\n            case BinaryMessageType.SERVER_HELLO:\n                await this.handlers.on_server_hello?.(frame);\n                return;\n            case BinaryMessageType.CLIENT_HELLO:\n                await this.handlers.on_client_hello?.(frame);\n                return;\n            case BinaryMessageType.HANDSHAKE_DONE:\n                await this.handlers.on_handshake_done(frame);\n                return;\n            default:\n                this.log(`Unsupported binary message type ${type}!`);\n        }\n    }\n}\n", "export function OverwriteUnset(target, source) {\n    for (const s_key in source) {\n        const key = s_key;\n        if (target[key] == null) {\n            target[key] = source[key];\n        }\n    }\n    return target;\n}\n", "import { CryoWebsocketServer } from \"./CryoWebsocketServer/CryoWebsocketServer.js\";\n/**\n * Create a Cryo server\n * @param pTokenValidator - An implementation of the {@link ITokenValidator} interface to validate incoming websocket connections\n * @param options - Optional arguments, {@link ICryoWebsocketServerOptions}\n * */\n//noinspection JSUnusedGlobalSymbols\nexport async function cryo(pTokenValidator, options) {\n    return CryoWebsocketServer.Create(pTokenValidator, options);\n}\n", "import {BaseComponent, ComponentEvent} from \"../UI/Base/BaseComponent/BaseComponent.js\";\r\n\r\n//TODO: \"dirty\"-Flag implementieren. Wird gesetzt wenn die Komponente modifiziert wurde. Umsetzen via Proxies!\r\n\r\nexport class ComponentTree {\r\n    public static repaintQueue: BaseComponent[] = [];\r\n\r\n    public constructor(public root: BaseComponent) {\r\n        root.onMounted?.();\r\n    }\r\n\r\n    public findById(id: string, current: BaseComponent = this.root): BaseComponent | null {\r\n        return current.findById(id);\r\n    }\r\n\r\n    public dispatchEvent(event: ComponentEvent) {\r\n        const target = this.findById(event.target);\r\n        if (!target) {\r\n            console.warn(`Target '${event.target}' could not be found!`);\r\n            return;\r\n        }\r\n\r\n        if (!target?.handleEvent) {\r\n            console.warn(`Target '${event.target}' cannot handle events!`);\r\n            return;\r\n        }\r\n\r\n        target.handleEvent(event);\r\n    }\r\n\r\n    public async renderFull(): Promise<string> {\r\n        return this.root.renderRecursive();\r\n    }\r\n\r\n    public async renderById(id: string): Promise<string | null> {\r\n        const target = this.findById(id);\r\n        if (!target)\r\n            throw new Error(`Target '${id}' could not be found!`);\r\n\r\n        if (!target?.renderRecursive()) {\r\n            console.warn(`Target '${target}' can not be rendered.`);\r\n            return null;\r\n        }\r\n\r\n        return target.renderRecursive();\r\n    }\r\n\r\n    public findParentOf(id: string, current: BaseComponent = this.root): BaseComponent | null {\r\n        for (const child of current.children) {\r\n            if (child.id === id)\r\n                return current;\r\n\r\n            const found = this.findParentOf(id, child);\r\n            if (found)\r\n                return found;\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    public replaceComponent(id: string, replacee: BaseComponent): void {\r\n        const parent = this.findParentOf(id);\r\n        if (!parent)\r\n            throw new Error(`Parent component of component '${id}' could not be found!`);\r\n\r\n        parent.removeChild(id);\r\n        parent.addChild(replacee);\r\n\r\n        replacee.parent = parent;\r\n        replacee.onMounted?.();\r\n    }\r\n\r\n    public async getUpdatedComponents(): Promise<{ target: string, html: string }[]> {\r\n        const components: { target: string, html: string }[] = [];\r\n        while (ComponentTree.repaintQueue.length > 0) {\r\n            const toUpdate = ComponentTree.repaintQueue.pop()!;\r\n            components.push({target: toUpdate.id, html: await toUpdate.renderRecursive()});\r\n        }\r\n\r\n        return components;\r\n    }\r\n}", "import {randomUUID, UUID} from \"node:crypto\";\r\n\r\nexport type CommonEvents = \"click\" | \"input\" | \"change\" | \"contextmenu\" | \"submit\" | \"keydown\";\r\nexport type ComponentEvent<T = any> = { type: CommonEvents, target: string, data: T };\r\nimport {BaseComponent as className} from \"./BaseComponent.module.css\"\r\nimport {ComponentTree} from \"../../../core/ComponentTree.js\";\r\n\r\nclass UUIDPool {\r\n    private static _instance: UUIDPool | undefined = undefined;\r\n    private uuids: Set<UUID> = new Set();\r\n\r\n    public get(): UUID {\r\n        const newUUID = randomUUID();\r\n        if (this.uuids.has(newUUID))\r\n            return this.get();\r\n\r\n        this.uuids.add(newUUID);\r\n        return newUUID;\r\n    }\r\n\r\n    public static get Instance(): UUIDPool {\r\n        if (!UUIDPool._instance)\r\n            UUIDPool._instance = new UUIDPool();\r\n\r\n        return UUIDPool._instance;\r\n    }\r\n}\r\n\r\nexport abstract class BaseComponent {\r\n    public id: string;\r\n    public parent?: BaseComponent;\r\n    public children: BaseComponent[] = []\r\n    public events?: CommonEvents[] = [];\r\n    private dirty: boolean = false;\r\n\r\n    protected constructor(id: string, public className: string, public styleOverrides?: Record<string, string>) {\r\n        this.id = `${id}-${UUIDPool.Instance.get()}`\r\n    }\r\n\r\n    public handleEvent?(event: ComponentEvent): void;\r\n\r\n    public onMounted?(): void;\r\n\r\n    public onDestroyed?(): void;\r\n\r\n    protected abstract render(): Promise<string>;\r\n\r\n    public async renderRecursive(): Promise<string> {\r\n        if (this.dirty)\r\n            this.dirty = false;\r\n        const rendered = await this.render();\r\n\r\n        let computedStyle = \"\";\r\n        let dataEvent = \"\";\r\n\r\n        if (this.styleOverrides)\r\n            computedStyle = `style=\"${Object.entries(this.styleOverrides).reduce((sheet, entry) => sheet + `${entry[0]}: ${entry[1]};`, \"\")}\"`;\r\n\r\n        if (this.events && this.events.length > 0)\r\n            dataEvent = `data-event=\"${this.events.join(\",\")}\"`;\r\n\r\n        return `\r\n                <div data-target=\"${this.id}\" ${dataEvent}${computedStyle} class=\"${className} ${this.className}\">\r\n                    ${rendered}\r\n                </div>`\r\n    }\r\n\r\n    public addChild(child: BaseComponent) {\r\n        child.parent = this;\r\n        this.children.push(child);\r\n    }\r\n\r\n    public removeChild(child_id: string) {\r\n        this.children = this.children.filter((child) => child_id !== child.id);\r\n    }\r\n\r\n    public findById(id: string): BaseComponent | null {\r\n        /*console.log(`Checking ${this.id} against target id ${id}`)\r\n        */\r\n        if (this.id === id)\r\n            return this;\r\n\r\n        for (const child of this.children) {\r\n            const found = child.findById(id);\r\n            if (found)\r\n                return found;\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    public repaint(): void {\r\n        ComponentTree.repaintQueue.push(this);\r\n    }\r\n}", ".BaseComponent {\r\n    box-sizing: border-box;\r\n    max-width: 100%;/*\r\n    padding: var(--component-padding);*/\r\n\r\n    background-color: var(--component-background-color);\r\n    user-select: none;\r\n}", ".AppComponent {\r\n    background-color: var(--app-background-color);\r\n    width: 100%;\r\n\r\n    padding: unset;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n    height: 100%;\r\n}", "import {BaseComponent} from \"../../Base/BaseComponent/BaseComponent.js\";\r\nimport {AppComponent as className} from \"./AppComponent.module.css\"\r\nimport {BaseLayout} from \"../../Base/BaseLayout/BaseLayout.js\";\r\n\r\nexport class AppComponent extends BaseComponent {\r\n    public constructor(private navBar: BaseComponent, private mainContent: BaseLayout) {\r\n        super(\"APP\", className);\r\n\r\n        this.addChild(navBar);\r\n        this.addChild(mainContent);\r\n    }\r\n\r\n    public async render(): Promise<string> {\r\n        const renderedNavigation = await this.navBar.renderRecursive();\r\n        const renderedContent = await this.mainContent.renderRecursive();\r\n        return `${renderedNavigation}${renderedContent}`;\r\n    }\r\n}", "import {BaseComponent} from \"../BaseComponent/BaseComponent.js\";\r\nimport {BaseLayout as className} from \"./BaseLayout.module.css\"\r\n\r\nexport abstract class BaseLayout extends BaseComponent {\r\n    protected constructor(id: string, className: string) {\r\n        super(`LAYOUT_${id}`, `${className}`);\r\n    }\r\n}", ".TwoColumnsLayout {\r\n    display: flex;\r\n    flex-direction: row;\r\n    gap: 1rem;\r\n    width: 100%;\r\n    background-color: var(--color-cyan);\r\n\r\n    height: 100%;\r\n}\r\n\r\n.TwoColumnsLayout > :first-child,\r\n.TwoColumnsLayout > :last-child {\r\n    flex: 1 1 0;\r\n    min-width: 0;\r\n}", "import {BaseComponent, ComponentEvent} from \"../../Base/BaseComponent/BaseComponent.js\";\r\nimport {BaseLayout} from \"../../Base/BaseLayout/BaseLayout.js\";\r\nimport {TwoColumnsLayout as className} from \"./TwoColumnsLayout.module.css\"\r\n\r\nexport class TwoColumnsLayout extends BaseLayout {\r\n    public constructor(private left?: BaseComponent, private right?: BaseComponent) {\r\n        super(\"TWO_COLUMNS\", className);\r\n\r\n        if(left)\r\n            this.addChild(left);\r\n\r\n        if(right)\r\n            this.addChild(right);\r\n    }\r\n\r\n    public setLeft(value: BaseComponent): void {\r\n        this.left = value;\r\n        this.addChild(this.left);\r\n    }\r\n\r\n    public setRight(value: BaseComponent): void {\r\n        this.right = value;\r\n        this.addChild(this.right);\r\n    }\r\n\r\n    public async render(): Promise<string> {\r\n        return [await this.left?.renderRecursive(), await this.right?.renderRecursive()].join(\"\");\r\n    }\r\n\r\n    public handleEvent(event: ComponentEvent) {\r\n        this.left?.handleEvent?.(event);\r\n        this.right?.handleEvent?.(event);\r\n    }\r\n}", ".GridLayout {\r\n    display: grid;\r\n    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\r\n    gap: var(--grid-gap);\r\n\r\n    height: 100%;\r\n    align-content: start;\r\n    overflow-y: auto;\r\n\r\n    padding: var(--component-padding);\r\n}", "import {BaseComponent, ComponentEvent} from \"../../Base/BaseComponent/BaseComponent.js\";\r\nimport {GridLayout as className} from \"./GridLayout.module.css\"\r\n\r\nexport class GridLayout extends BaseComponent {\r\n    public constructor(items: BaseComponent[] = []) {\r\n        super(\"GRID\", className);\r\n\r\n        for(const item of items)\r\n            this.addChild(item);\r\n    }\r\n\r\n    public async render(): Promise<string> {\r\n        const renderedChildren = await Promise.all(this.children.map(child => child.renderRecursive()));\r\n        return renderedChildren.join(\"\");\r\n    }\r\n\r\n    public handleEvent(event: ComponentEvent) {\r\n        for (const child of this.children) {\r\n            child.handleEvent?.(event);\r\n        }\r\n    }\r\n}", "import {BaseComponent, ComponentEvent} from \"../../Base/BaseComponent/BaseComponent.js\";\r\n\r\nexport class FrameComponent extends BaseComponent {\r\n    public constructor(children: BaseComponent[] = []) {\r\n        super(\"FRAME\", \"frameComponent\");\r\n\r\n        for(const child of children)\r\n            this.addChild(child);\r\n    }\r\n\r\n    public async render(): Promise<string> {\r\n        const renderedChildren = await Promise.all(this.children.map(child => child.renderRecursive()));\r\n        return renderedChildren.join(\"\");\r\n    }\r\n\r\n    public handleEvent(event: ComponentEvent) {\r\n        for (const child of this.children) {\r\n            child.handleEvent?.(event);\r\n        }\r\n    }\r\n}", ".GridItemComponent {\r\n    justify-self: stretch;\r\n    align-self: stretch;\r\n\r\n    width: 100%;\r\n    aspect-ratio: 1 / 1;\r\n\r\n    padding: 1rem;\r\n\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    text-align: center;\r\n\r\n    background-color: var(--component-background-color);\r\n    border: 1px solid var(--component-border-color);\r\n    border-radius: var(--grid-item-radius);\r\n    box-shadow: var(--component-shadow);\r\n\r\n    color: var(--text-color);\r\n}\r\n\r\n.GridItemComponent > * {\r\n    user-select: none;\r\n}", "import {BaseComponent, CommonEvents, ComponentEvent} from \"../../Base/BaseComponent/BaseComponent.js\";\r\nimport {GridItemComponent as className} from \"./GridItemComponent.module.css\"\r\nimport {ParagraphComponent} from \"../ParagraphComponent/ParagraphComponent.js\";\r\n\r\nexport class GridItemComponent extends BaseComponent {\r\n    public events: CommonEvents[] = [\"click\"];\r\n\r\n    public constructor(private item?: BaseComponent) {\r\n        super(\"GRID_ITEM\", className);\r\n\r\n        if (item)\r\n            this.addChild(item);\r\n    }\r\n\r\n    public async render(): Promise<string> {\r\n        if (this.item)\r\n            return this.item.renderRecursive();\r\n\r\n        return \"\";\r\n    }\r\n\r\n    public handleEvent(event: ComponentEvent) {\r\n        switch (event.type) {\r\n            case \"click\":\r\n                (this.item as ParagraphComponent).setContent(`${Math.random()}`);\r\n                break;\r\n            default:\r\n                return;\r\n        }\r\n    }\r\n}", ".ParagraphComponent {\r\n    text-align: left;\r\n    padding: 0 var(--component-padding);\r\n    user-select: text;\r\n}", "import {BaseComponent} from \"../../Base/BaseComponent/BaseComponent.js\";\r\nimport {ParagraphComponent as className} from \"./ParagraphComponent.module.css\"\r\n\r\nexport class ParagraphComponent extends BaseComponent {\r\n    public constructor(private content?: string) {\r\n        super(\"PARAGRAPH\", className);\r\n    }\r\n\r\n    public async render(): Promise<string> {\r\n        return `<p>${this.content || \"\"}</p>`;\r\n    }\r\n\r\n    public setContent(content: string): void {\r\n        this.content = content;\r\n    }\r\n}", ".NavbarComponent {\r\n    display: flex;\r\n    flex-direction: row;\r\n    gap: 1rem;\r\n    width: 100%;\r\n\r\n    border-bottom: 1px solid black;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n\r\n    background-color: var(--navbar-background-color);\r\n    color: var(--text-on-dark);\r\n    padding: var(--navbar-padding);\r\n}\r\n\r\n.tabs,\r\n.buttons {\r\n    display: flex;\r\n    gap: 1rem;\r\n    flex-wrap: wrap;\r\n    flex-direction: row;\r\n    align-items: center;\r\n\r\n    cursor: pointer;\r\n    transition: background-color 0.2s;\r\n\r\n    background-color: var(--navbar-item-background-color);\r\n    color: var(--text-on-dark);\r\n    /*\r\n    border-radius: var(--navbar-item-radius);\r\n    */\r\n}\r\n\r\n.tabs > * {\r\n    min-width: 10rem;\r\n    background-color: var(--tab-background);\r\n}\r\n\r\n.tabs > *:hover {\r\n    background-color: var(--tab-hover-background);\r\n}\r\n\r\n.buttons > * {\r\n    min-width: 2.5rem;\r\n    background-color: var(--button-background);\r\n}\r\n\r\n.buttons > *:hover {\r\n    background-color: var(--button-hover-background);\r\n}", "import {BaseComponent, ComponentEvent} from \"../../Base/BaseComponent/BaseComponent.js\";\r\nimport {NavbarComponent as className, tabs, buttons} from \"./NavbarComponent.module.css\"\r\n\r\nexport class NavbarComponent extends BaseComponent {\r\n    public constructor(private buttons: BaseComponent[] = [], private tabs: BaseComponent[] = []) {\r\n        super(\"NAVBAR\", className);\r\n\r\n        for (const child of [...this.buttons, ...this.tabs])\r\n            this.addChild(child);\r\n    }\r\n\r\n    public async render(): Promise<string> {\r\n        const renderedButtons = await Promise.all(this.buttons.map(button => button.renderRecursive()));\r\n        const renderedTabs = await Promise.all(this.tabs.map(tab => tab.renderRecursive()));\r\n\r\n        return `\r\n            <div class=\"${tabs}\">${renderedTabs.join(\"\")}</div>\r\n            <div class=\"${buttons}\">${renderedButtons.join(\"\")}</div>\r\n        `;\r\n    }\r\n\r\n    public addButton(button: BaseComponent): void {\r\n        this.buttons.push(button);\r\n        this.addChild(button);\r\n    }\r\n\r\n    public removeButton(target_id: string): void {\r\n        this.buttons = this.buttons.filter(button => button.id !== target_id);\r\n        this.removeChild(target_id);\r\n    }\r\n\r\n    public addTab(tab: BaseComponent): void {\r\n        this.tabs.push(tab);\r\n        this.addChild(tab);\r\n    }\r\n\r\n    public removeTab(target_id: string): void {\r\n        this.tabs = this.tabs.filter(tab => tab.id !== target_id);\r\n        this.removeChild(target_id);\r\n    }\r\n\r\n    public handleEvent(event: ComponentEvent) {\r\n        for (const child of this.children) {\r\n            child.handleEvent?.(event);\r\n        }\r\n    }\r\n}", ".HeaderComponent {\r\n    text-align: left;\r\n    padding: 0 var(--component-padding);\r\n    user-select: text;\r\n}", "import {BaseComponent} from \"../../Base/BaseComponent/BaseComponent.js\";\r\nimport {HeaderComponent as className} from \"./HeaderComponent.module.css\"\r\n\r\nexport class HeaderComponent extends BaseComponent {\r\n    public constructor(private content: string = \"\", private size: 1 | 2 | 3 | 4 | 5 | 6 = 1) {\r\n        super(\"HEADER\", className);\r\n    }\r\n\r\n    public async render(): Promise<string> {\r\n        return `<h${this.size}>${this.content}</h${this.size}>`;\r\n    }\r\n\r\n    public setContent(content: string): void {\r\n        this.content = content;\r\n    }\r\n}", "import {cryo, ITokenValidator} from \"cryo-server\"\r\nimport {ComponentEvent} from \"./UI/Base/BaseComponent/BaseComponent.js\";\r\nimport {ComponentTree} from \"./core/ComponentTree.js\";\r\nimport {AppComponent} from \"./UI/Components/AppComponent/AppComponent.js\";\r\nimport {TwoColumnsLayout} from \"./UI/Layouts/TwoColumnsLayout/TwoColumnsLayout.js\";\r\nimport {GridLayout} from \"./UI/Layouts/GridLayout/GridLayout.js\";\r\nimport {FrameComponent} from \"./UI/Components/FrameComponent/FrameComponent.js\";\r\nimport {GridItemComponent} from \"./UI/Components/GridItemComponent/GridItemComponent.js\";\r\nimport {ParagraphComponent} from \"./UI/Components/ParagraphComponent/ParagraphComponent.js\";\r\nimport {NavbarComponent} from \"./UI/Components/NavbarComponent/NavbarComponent.js\";\r\nimport {HeaderComponent} from \"./UI/Components/HeaderComponent/HeaderComponent.js\";\r\nimport {inspect} from \"node:util\";\r\nimport {FormComponent} from \"./UI/Components/FormComponent/FormComponent.js\";\r\nimport {InputComponent} from \"./UI/Components/InputComponent/InputComponent.js\";\r\n\r\nconst PORT = 8080;\r\n\r\nclass Validator implements ITokenValidator {\r\n    public async validate(token: string): Promise<boolean> {\r\n        return token === \"test\";\r\n    }\r\n}\r\n\r\nconst server = await cryo(new Validator(), {use_cale: false, port: PORT, keepAliveIntervalMs: 5000});\r\n\r\nserver.on(\"session\", async (session) => {\r\n    console.log(`New session '${session.id}' connected!`);\r\n    //Main closure for application state on the frontend\r\n    const app = new AppComponent(\r\n        new NavbarComponent(\r\n            [\r\n                new ParagraphComponent(\"Btn 1\"),\r\n                new ParagraphComponent(\"Btn 2\")\r\n            ],\r\n            [\r\n                new ParagraphComponent(\"Tab 1\"),\r\n                new ParagraphComponent(\"Tab 2\")\r\n            ]\r\n        ),\r\n        new TwoColumnsLayout(\r\n            new GridLayout(\r\n                [\r\n                    new GridItemComponent(new ParagraphComponent(\"Grid Item 1\")),\r\n                    new GridItemComponent(new ParagraphComponent(\"Grid Item 2\")),\r\n                    new GridItemComponent(new ParagraphComponent(\"Grid Item 3\")),\r\n                    new GridItemComponent(new ParagraphComponent(\"Grid Item 4\")),\r\n                    new GridItemComponent(new ParagraphComponent(\"Grid Item 5\")),\r\n                    new GridItemComponent(new ParagraphComponent(\"Grid Item 6\")),\r\n                ]\r\n            ),\r\n            new FrameComponent([\r\n                new HeaderComponent(\"Fantastic fucking header right here!\"),\r\n                new ParagraphComponent(`Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.`),\r\n                new FormComponent([\r\n                    new InputComponent(\"Size of cock\", \"cockSz\", \"number\"),\r\n                    new InputComponent(\"Your name\", \"urName\", \"text\"),\r\n                    new InputComponent(\"Your d.o.b\", \"urDob\", \"date\"),\r\n                ])\r\n            ])\r\n        )\r\n    );\r\n\r\n    //Render UI initially and send to client\r\n    const tree = new ComponentTree(app);\r\n    await session.SendUTF8(JSON.stringify({target: \"root\", html: await tree.renderFull()}));\r\n\r\n    session.on(\"message-utf8\", async (message) => {\r\n        const {type, data, target} = JSON.parse(message) as ComponentEvent;\r\n        console.log(`Received UIEvent '${type}' on '${target}' with data '${inspect(data, false, 6, true)}'`);\r\n\r\n        tree.dispatchEvent({target, data, type});\r\n\r\n        const html = await tree.renderById(target);\r\n        if (html) {\r\n            console.info(`UIEvent '${type}' on '${target}' => '${target}' was re-rendered!`);\r\n            await session.SendUTF8(JSON.stringify({target, html}));\r\n        }\r\n\r\n        const maybeRepainted = await tree.getUpdatedComponents();\r\n        if (maybeRepainted.length === 0)\r\n            return;\r\n\r\n        console.info(`UIEvent '${type}' on '${target}' => '${maybeRepainted.length}' components were re-rendered!`);\r\n        for (const {target, html} of maybeRepainted) {\r\n            await session.SendUTF8(JSON.stringify({target, html}));\r\n        }\r\n    });\r\n\r\n    session.on(\"closed\", () => {\r\n        console.log(`Session '${session.id}' closed`);\r\n    })\r\n});\r\n\r\nserver.on(\"listening\", () => {\r\n    console.log(`CryoUI listening on port ${PORT}`);\r\n});", ".FormComponent {\r\n    background-color: var(--component-background-color);\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n}", "import {BaseComponent, CommonEvents, ComponentEvent} from \"../../Base/BaseComponent/BaseComponent.js\";\r\nimport {FormComponent as className} from \"./FormComponent.module.css\"\r\nimport {InputComponent} from \"../InputComponent/InputComponent.js\";\r\nimport {AppComponent} from \"../AppComponent/AppComponent.js\";\r\nimport {TwoColumnsLayout} from \"../../Layouts/TwoColumnsLayout/TwoColumnsLayout.js\";\r\nimport {ParagraphComponent} from \"../ParagraphComponent/ParagraphComponent.js\";\r\nimport {FrameComponent} from \"../FrameComponent/FrameComponent.js\";\r\n\r\nexport class FormComponent extends BaseComponent {\r\n    public events: CommonEvents[] = [\"submit\"];\r\n\r\n    public constructor(private inputs: InputComponent[]) {\r\n        super(\"FORM\", className);\r\n\r\n        for (const input of inputs)\r\n            this.addChild(input);\r\n    }\r\n\r\n    public async render(): Promise<string> {\r\n        const rendered = await Promise.all(this.children.map(child => child.renderRecursive()));\r\n        const renderedSubmissiveButton = `<input type=\"submit\" value=\"Submit\"/>`\r\n        return `<form>${rendered.join(\"\")}${renderedSubmissiveButton}></form>`;\r\n    }\r\n\r\n    public handleEvent(event: ComponentEvent) {\r\n        switch (event.type) {\r\n            case \"submit\":\r\n                let cur: BaseComponent | undefined = this;\r\n                while (cur?.parent !== undefined) {\r\n                    cur = cur?.parent;\r\n                }\r\n\r\n                const frame = (cur as AppComponent)\r\n                    .children\r\n                    .find(child => child instanceof TwoColumnsLayout)!\r\n                    .children\r\n                    .find(child => child instanceof FrameComponent);\r\n                frame?.addChild(new ParagraphComponent(`YOUR COCK IS ${event.data.cockSz} UNITS OF MEASUREMENTS BIG.`));\r\n                frame?.repaint();\r\n\r\n                break;\r\n            default:\r\n                return;\r\n        }\r\n    }\r\n}", ".InputComponent {\r\n    display: flex;\r\n    background-color: var(--component-background-color);\r\n}", "import {BaseComponent} from \"../../Base/BaseComponent/BaseComponent.js\";\r\nimport {InputComponent as className} from \"./InputComponent.module.css\"\r\n\r\ntype InputTypes = \"checkbox\" | \"radio\" | \"color\" | \"date\" | \"email\" | \"time\" | \"text\" | \"number\";\r\n\r\nexport class InputComponent extends BaseComponent {\r\n    public constructor(private label: string, private key: string, private type: InputTypes = \"text\") {\r\n        super(\"INPUT\", className);\r\n    }\r\n\r\n    public async render(): Promise<string> {\r\n        const input = `<input required id=\"__${this.id}\" step=\"0.01\" name=\"${this.key}\" type=\"${this.type}\" />`;\r\n        const label = `<label for=\"__${this.id}\">${this.label}</label>`\r\n        return `${label}${input}`;\r\n    }\r\n}"],
  "mappings": "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",
  "names": ["clearInterval", "setInterval", "EventEmitter", "BinaryMessageType", "log", "extension", "log", "HandshakeState", "log", "CloseCode", "EventEmitter", "server", "setInterval", "request", "clearInterval", "BaseComponent", "BaseComponent", "AppComponent", "AppComponent", "BaseComponent", "BaseComponent", "TwoColumnsLayout", "TwoColumnsLayout", "GridLayout", "GridLayout", "BaseComponent", "BaseComponent", "GridItemComponent", "GridItemComponent", "BaseComponent", "ParagraphComponent", "ParagraphComponent", "BaseComponent", "NavbarComponent", "tabs", "buttons", "NavbarComponent", "BaseComponent", "buttons", "tabs", "HeaderComponent", "HeaderComponent", "BaseComponent", "FormComponent", "FormComponent", "BaseComponent", "TwoColumnsLayout", "ParagraphComponent", "InputComponent", "InputComponent", "BaseComponent", "AppComponent", "NavbarComponent", "ParagraphComponent", "TwoColumnsLayout", "GridLayout", "GridItemComponent", "HeaderComponent", "FormComponent", "InputComponent", "target", "html"]
}
